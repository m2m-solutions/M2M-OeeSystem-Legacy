<%@ Control Language="C#" AutoEventWireup="true" CodeBehind="MachineListControl.ascx.cs" Inherits="M2M.DataCenter.WebUI.Production.MachineListControl" EnableViewState="false" %>
<%@ Register Assembly="Telerik.Web.UI" Namespace="Telerik.Web.UI" TagPrefix="telerik" %>
<script language="javascript" type="text/javascript">
	<!--
		function RowClick(sender, eventArgs)   
		{   
		   window.location.href = "ProductionPage.aspx?MachineId=" + eventArgs.getDataKeyValue("MachineId");
		}  
	-->
</script>

<div class="content">
	<telerik:RadGrid ID="gridMachines" runat="server" PageSize="20" AllowPaging="True" AutoGenerateColumns="False" GridLines="None" OnItemDataBound="gridMachines_ItemDataBound" OnNeedDataSource="gridMachines_NeedDataSource">
		<MasterTableView ClientDataKeyNames="MachineId" NoMasterRecordsText="Det finns inga maskiner p&#229; avdelningen" DataKeyNames="MachineId">
			<Columns>
				<telerik:GridBoundColumn DataField="MachineId" HeaderText="Id" ReadOnly="True" UniqueName="MachineId" Visible="False" >
				</telerik:GridBoundColumn>
				<telerik:GridBoundColumn DataField="DisplayName" HeaderText="Maskin" ReadOnly="True" UniqueName="DisplayName">
					<ItemStyle Font-Bold="true" />
				</telerik:GridBoundColumn>
				<telerik:GridBoundColumn DataField="AvailabilityAsString" HeaderText="Tillg&#228;nglighet" HeaderStyle-HorizontalAlign="Right" ItemStyle-HorizontalAlign="Right" ReadOnly="True" UniqueName="AvailabilityAsString">
				</telerik:GridBoundColumn>
				<telerik:GridBoundColumn DataField="PerformanceAsString" HeaderText="Anl&#228;ggningsutbyte" HeaderStyle-HorizontalAlign="Right" ItemStyle-HorizontalAlign="Right" ReadOnly="True" UniqueName="PerformanceAsString">
				</telerik:GridBoundColumn>
				<telerik:GridBoundColumn DataField="QualityAsString" HeaderText="Kvalitetsutbyte" HeaderStyle-HorizontalAlign="Right" ItemStyle-HorizontalAlign="Right" ReadOnly="True" UniqueName="QualityAsString">
				</telerik:GridBoundColumn>
				<telerik:GridBoundColumn DataField="OEEAsString" HeaderText="TAK" HeaderStyle-HorizontalAlign="Right" ItemStyle-HorizontalAlign="Right" ReadOnly="True" UniqueName="OEEAsString">
				</telerik:GridBoundColumn>
				<telerik:GridBoundColumn DataField="TrendAsString" HeaderText="Trend" HeaderStyle-HorizontalAlign="Right" ItemStyle-HorizontalAlign="Right" ReadOnly="True" UniqueName="TrendAsString">
				</telerik:GridBoundColumn>
				<telerik:GridBoundColumn HeaderText="Status" ReadOnly="True" UniqueName="Status">
				</telerik:GridBoundColumn>
				<telerik:GridBoundColumn HeaderText="Artikel" ReadOnly="True" UniqueName="ArticleNumber">
				</telerik:GridBoundColumn>
				<telerik:GridBoundColumn DataField="ProducedItems" DataType="System.Int32" HeaderStyle-HorizontalAlign="Right" ItemStyle-HorizontalAlign="Right" HeaderText="Tillv. antal" Visible="False" ReadOnly="True" UniqueName="NumberOfItems">
				</telerik:GridBoundColumn>
				<telerik:GridBoundColumn DataField="Trend" DataType="System.Decimal" Display="False" HeaderText="Trend" ReadOnly="True" UniqueName="Trend">
				</telerik:GridBoundColumn>
			</Columns>
			<PagerStyle Mode="NextPrevAndNumeric" PagerTextFormat="Byt sida: {4} &amp;nbsp;|&amp;nbsp; Visar sida {0} av {1}, post {2} - {3} av {5}." />
		</MasterTableView>
		<ClientSettings EnableRowHoverStyle="True">
			<ClientEvents OnRowClick="RowClick"	 />
			<Selecting AllowRowSelect="True" />
			<Resizing AllowColumnResize="True" />
		</ClientSettings>
	</telerik:RadGrid>
</div>
